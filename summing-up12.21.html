<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			pre{
				width: 800px;
				height: auto;
				background:deepskyblue;
				border: 2px solid grey;
				border-radius: 5px;
				margin-top: 20px;
				margin-bottom: 10px;
				padding: 5px;
			}
		</style>
	</head>
	<body>
		<h1>消消乐</h1>
		<canvas id="canvas" width="1000px" height="800px"></canvas>
		<script src="mainxxl.js" type="text/javascript" charset="utf-8"></script>
		<h3>球动</h3>
		<pre>
	function ballMove(){
	ballX += vx;
	ballY += vy;
	if (ballX >= cW - ball.width) {
		vx *= -1;
	}
	else if (ballX <= 0) {
		vx *= -1;
	}
	else if (ballY <= 0){
		vy *= -1;
	}
	else if (ballboardHit()) {
		vy *= -1;
	}
	else if(ballY >= cH){
		console.log("Game Over");
		clearInterval(si);
	}
}
		<h3>球板碰撞</h3>
		<pre>
	function ballboardHit(){
	if (ballX+ball.width/2-boardX>=0 && ballX+ball.width/2-boardX<=board.width) {
		if (boardY - ballY <= ball.height && boardY - ballY >= ball.height-2*vy) {
			return true;
		}
		else{
			return false;
		}
	}
	else{
			return false;
		}
}
		</pre>
		</pre>
		
		<h3>球块碰撞</h3>
		<pre>
	function ballbricksHit(x,y,w,h){
	if (ballX+ball.width/2- x >=0 && ballX+ball.width/2- x <= w) {
		if (ballY-y<=h){
			return true;
		}else{
			return false;
		}
	} else{
		return false;
	}
}
		</pre>
		<h3>块布局</h3>
		<pre>
	function imgBricks(){
	for (var i = 0; i < 6; i++) {
		for (var j = 0; j < 4; j++) {
			var lo = Math.ceil(Math.random()*6);
			var str = "img/"+lo+".png";
			var item = addimg(str);
			var x = i * (imgbriW+10) +20;
			var y = j * (imgbriH+5)+30;
			var obj = {item:item,x:x,y:y};
			bricksarr.push(obj);
		}
	}
}
	function drawBricks(){
	for (var i = 0; i < bricksarr.length; i++) {
		var item = bricksarr[i];
		
		ctx.drawImage(item.item,item.x,item.y);
	}
}
		</pre>
		<h3>块消除</h3>
		<pre>
	function ballbrickhit(){
	for (var i = 0; i < bricksarr.length; i++) {
		var item = bricksarr[i];
		var b = ballbricksHit(item.x,item.y,imgbriW,imgbriH);
		if (b) {
			bricksarr.splice(i,1);
			vy *= -1;
			item = null;
		}
	}
}
		</pre>
		<h2>知识点</h2>
		<pre>
1、HTML5 Canvas标记 html标记 script 外链脚本
2、onload方法 ： 当页面加载完成是调用函数
3、变量声明
4、console.log()控制台输出方法
5、函数封装 ： 面向对象的思想之一
6、getContext():HTML5画布：上下文绘图环境-- 返回绘图对象
7、Image JavaScript对象
8、绘图环境绘制图像方法：drawImage()方法
9、定时器：setInterval
10、条件判断 if else
11、逻辑运算符、赋值运算符 -- 运算符
12、几何 数学知识
13、程序结构控制：for 循环 
14、Object对象
15、数组对象、数组方法Array.splice(索引,删除的数量);
16、性能优化
17、逻辑
		</pre>
	</body>
</html>
